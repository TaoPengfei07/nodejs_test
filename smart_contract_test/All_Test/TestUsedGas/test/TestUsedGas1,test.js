const assert = require('assert');
const getBlock = require('../utils/getBlock');
const Block = require('../utils/send');
const BigNumber = require('big-number');
const sleep = require('sleep')
const bs58check = require("bs58check");

let account1 = "czr_33EuccjKjcZgwbHYp8eLhoFiaKGARVigZojeHzySD9fQ1ysd7u"
let account2 = "";
let AContractAddress = "";
let BContractAddress = "";
let CContractAddress = "";


describe("测试合约testUesdGas1", async () => {

    it("创建账号account2，并转入5个CZR", async () => {
        account2 = await Block.creatAccount();
        console.log("account2:" + account2)
        let beforeAmount = await getBlock.getaccountBalance(account2);
        let blockHash = await Block.sendBlock({
            to: account2,
            amount: "5000000000000000000"
        });
        console.log(blockHash);
        let blockReceiptawait=await getBlock.getBlockState(blockHash);
        let afterAmount = await getBlock.getaccountBalance(account2);
        assert.equal('5000000000000000000', (afterAmount - beforeAmount))
        assert.equal('21000', blockReceiptawait.block_state.stable_content.gas_used)
    }).timeout(1000000);

    it("创建合约A", async () => {
        let blockHash = await Block.sendBlock({
            from: account2,
            amount:"1500000000000000000",
            // data:"6080604052336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555061170e806100536000396000f3fe608060405234801561001057600080fd5b50600436106100b0576000357c0100000000000000000000000000000000000000000000000000000000900480634be77545116100835780634be77545146101315780635dab24201461013b578063a6a2d28614610185578063ce518f0a1461018f578063d78ca67f146101d9576100b0565b806305942236146100b557806312065fe0146100bf57806319a278b9146100dd5780633284f16814610127575b600080fd5b6100bd6101e3565b005b6100c7610384565b6040518082815260200191505060405180910390f35b6100e56103a3565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b61012f6103cd565b005b610139610564565b005b610143610705565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b61018d61072a565b005b610197610980565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6101e16109aa565b005b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630b6f48a56040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b1580156102cc57600080fd5b505af11580156102e0573d6000803e3d6000fd5b50505050600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630b6f48a56040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b15801561036a57600080fd5b505af115801561037e573d6000803e3d6000fd5b50505050565b60003073ffffffffffffffffffffffffffffffffffffffff1631905090565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff166040516103fb90610be9565b808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050604051809103906000f08015801561044d573d6000803e3d6000fd5b50600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc670429d069189e00009081150290604051600060405180830381858888f19350505050158015610561573d6000803e3d6000fd5b50565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ac461dbd6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b15801561064d57600080fd5b505af1158015610661573d6000803e3d6000fd5b50505050600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630b6f48a56040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b1580156106eb57600080fd5b505af11580156106ff573d6000803e3d6000fd5b50505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc60009081150290604051600060405180830381858888f19350505050158015610792573d6000803e3d6000fd5b506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166040516107e490610bf6565b808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200192505050604051809103906000f080158015610869573d6000803e3d6000fd5b50600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc6710a741a4627800009081150290604051600060405180830381858888f1935050505015801561097d573d6000803e3d6000fd5b50565b6000600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16633e424fd76040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b158015610a9357600080fd5b505af1158015610aa7573d6000803e3d6000fd5b50505050600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630b6f48a56040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b158015610b3157600080fd5b505af1158015610b45573d6000803e3d6000fd5b50505050600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630b6f48a56040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b158015610bcf57600080fd5b505af1158015610be3573d6000803e3d6000fd5b50505050565b61035680610c0483390190565b61078980610f5a8339019056fe60806040526040516020806103568339810180604052602081101561002357600080fd5b8101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550506102d2806100846000396000f3fe60806040526004361061005c576000357c0100000000000000000000000000000000000000000000000000000000900480630b6f48a51461005e57806312065fe0146100755780633e424fd7146100a05780635dab2420146100b7575b005b34801561006a57600080fd5b5061007361010e565b005b34801561008157600080fd5b5061008a6101f0565b6040518082815260200191505060405180910390f35b3480156100ac57600080fd5b506100b561020f565b005b3480156100c357600080fd5b506100cc610281565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc67016345785d8a00009081150290604051600060405180830381858888f1935050505015801561017d573d6000803e3d6000fd5b506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc67016345785d8a00009081150290604051600060405180830381858888f193505050501580156101ed573d6000803e3d6000fd5b50565b60003073ffffffffffffffffffffffffffffffffffffffff1631905090565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc67016345785d8a00009081150290604051600060405180830381858888f1935050505015801561027e573d6000803e3d6000fd5b50565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff168156fea165627a7a7230582074bf72d5d57ee302539f31ff6f74cf628257ed8ac99eb301df03a3947f2cb411002960806040526040516040806107898339810180604052604081101561002357600080fd5b810190808051906020019092919080519060200190929190505050816000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050506106b9806100d06000396000f3fe6080604052600436106100a3576000357c0100000000000000000000000000000000000000000000000000000000900480633e424fd7116100765780633e424fd71461012957806341c0e1b5146101405780635dab242014610157578063ac461dbd146101ae578063ff2d6c52146101c5576100a3565b80630b6f48a5146100a55780630dbe671f146100bc57806312065fe0146100e75780631fc376f714610112575b005b3480156100b157600080fd5b506100ba61021c565b005b3480156100c857600080fd5b506100d161028e565b6040518082815260200191505060405180910390f35b3480156100f357600080fd5b506100fc610294565b6040518082815260200191505060405180910390f35b34801561011e57600080fd5b506101276102b3565b005b34801561013557600080fd5b5061013e6102c6565b005b34801561014c57600080fd5b50610155610418565b005b34801561016357600080fd5b5061016c610431565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156101ba57600080fd5b506101c3610456565b005b3480156101d157600080fd5b506101da610667565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc67016345785d8a00009081150290604051600060405180830381858888f1935050505015801561028b573d6000803e3d6000fd5b50565b60025481565b60003073ffffffffffffffffffffffffffffffffffffffff1631905090565b6001600260008282540192505081905550565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc67016345785d8a00009081150290604051600060405180830381858888f19350505050158015610335573d6000803e3d6000fd5b506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc67016345785d8a00009081150290604051600060405180830381858888f193505050501580156103a5573d6000803e3d6000fd5b506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc67016345785d8a00009081150290604051600060405180830381858888f19350505050158015610415573d6000803e3d6000fd5b50565b3373ffffffffffffffffffffffffffffffffffffffff16ff5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc67016345785d8a00009081150290604051600060405180830381858888f19350505050158015610528573d6000803e3d6000fd5b50600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630b6f48a56040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b1580156105af57600080fd5b505af11580156105c3573d6000803e3d6000fd5b50505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16633e424fd76040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b15801561064d57600080fd5b505af1158015610661573d6000803e3d6000fd5b50505050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff168156fea165627a7a72305820bf1d0c1168ae19f50efccc57f8a1bb07cc9c119d3c10cae60fc9e9ceb67d66950029a165627a7a72305820837ce4810a436d771157e30cd2990c11561592e3f4bdd4b163dcd797ff9f42bd0029"
            data:"6080604052336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555061170e806100536000396000f3fe608060405234801561001057600080fd5b50600436106100b0576000357c0100000000000000000000000000000000000000000000000000000000900480634be77545116100835780634be77545146101315780635dab24201461013b578063a6a2d28614610185578063ce518f0a1461018f578063d78ca67f146101d9576100b0565b806305942236146100b557806312065fe0146100bf57806319a278b9146100dd5780633284f16814610127575b600080fd5b6100bd6101e3565b005b6100c7610384565b6040518082815260200191505060405180910390f35b6100e56103a3565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b61012f6103cd565b005b610139610564565b005b610143610705565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b61018d61072a565b005b610197610980565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6101e16109aa565b005b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630b6f48a56040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b1580156102cc57600080fd5b505af11580156102e0573d6000803e3d6000fd5b50505050600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630b6f48a56040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b15801561036a57600080fd5b505af115801561037e573d6000803e3d6000fd5b50505050565b60003073ffffffffffffffffffffffffffffffffffffffff1631905090565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff166040516103fb90610be9565b808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050604051809103906000f08015801561044d573d6000803e3d6000fd5b50600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc670429d069189e00009081150290604051600060405180830381858888f19350505050158015610561573d6000803e3d6000fd5b50565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ac461dbd6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b15801561064d57600080fd5b505af1158015610661573d6000803e3d6000fd5b50505050600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630b6f48a56040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b1580156106eb57600080fd5b505af11580156106ff573d6000803e3d6000fd5b50505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc60009081150290604051600060405180830381858888f19350505050158015610792573d6000803e3d6000fd5b506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166040516107e490610bf6565b808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200192505050604051809103906000f080158015610869573d6000803e3d6000fd5b50600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc6710a741a4627800009081150290604051600060405180830381858888f1935050505015801561097d573d6000803e3d6000fd5b50565b6000600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16633e424fd76040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b158015610a9357600080fd5b505af1158015610aa7573d6000803e3d6000fd5b50505050600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630b6f48a56040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b158015610b3157600080fd5b505af1158015610b45573d6000803e3d6000fd5b50505050600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630b6f48a56040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b158015610bcf57600080fd5b505af1158015610be3573d6000803e3d6000fd5b50505050565b61035680610c0483390190565b61078980610f5a8339019056fe60806040526040516020806103568339810180604052602081101561002357600080fd5b8101908080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550506102d2806100846000396000f3fe60806040526004361061005c576000357c0100000000000000000000000000000000000000000000000000000000900480630b6f48a51461005e57806312065fe0146100755780633e424fd7146100a05780635dab2420146100b7575b005b34801561006a57600080fd5b5061007361010e565b005b34801561008157600080fd5b5061008a6101f0565b6040518082815260200191505060405180910390f35b3480156100ac57600080fd5b506100b561020f565b005b3480156100c357600080fd5b506100cc610281565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc67016345785d8a00009081150290604051600060405180830381858888f1935050505015801561017d573d6000803e3d6000fd5b506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc67016345785d8a00009081150290604051600060405180830381858888f193505050501580156101ed573d6000803e3d6000fd5b50565b60003073ffffffffffffffffffffffffffffffffffffffff1631905090565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc67016345785d8a00009081150290604051600060405180830381858888f1935050505015801561027e573d6000803e3d6000fd5b50565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff168156fea165627a7a7230582074bf72d5d57ee302539f31ff6f74cf628257ed8ac99eb301df03a3947f2cb411002960806040526040516040806107898339810180604052604081101561002357600080fd5b810190808051906020019092919080519060200190929190505050816000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050506106b9806100d06000396000f3fe6080604052600436106100a3576000357c0100000000000000000000000000000000000000000000000000000000900480633e424fd7116100765780633e424fd71461012957806341c0e1b5146101405780635dab242014610157578063ac461dbd146101ae578063ff2d6c52146101c5576100a3565b80630b6f48a5146100a55780630dbe671f146100bc57806312065fe0146100e75780631fc376f714610112575b005b3480156100b157600080fd5b506100ba61021c565b005b3480156100c857600080fd5b506100d161028e565b6040518082815260200191505060405180910390f35b3480156100f357600080fd5b506100fc610294565b6040518082815260200191505060405180910390f35b34801561011e57600080fd5b506101276102b3565b005b34801561013557600080fd5b5061013e6102c6565b005b34801561014c57600080fd5b50610155610418565b005b34801561016357600080fd5b5061016c610431565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156101ba57600080fd5b506101c3610456565b005b3480156101d157600080fd5b506101da610667565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc67016345785d8a00009081150290604051600060405180830381858888f1935050505015801561028b573d6000803e3d6000fd5b50565b60025481565b60003073ffffffffffffffffffffffffffffffffffffffff1631905090565b6001600260008282540192505081905550565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc67016345785d8a00009081150290604051600060405180830381858888f19350505050158015610335573d6000803e3d6000fd5b506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc67016345785d8a00009081150290604051600060405180830381858888f193505050501580156103a5573d6000803e3d6000fd5b506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc67016345785d8a00009081150290604051600060405180830381858888f19350505050158015610415573d6000803e3d6000fd5b50565b3373ffffffffffffffffffffffffffffffffffffffff16ff5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc67016345785d8a00009081150290604051600060405180830381858888f19350505050158015610528573d6000803e3d6000fd5b50600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630b6f48a56040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b1580156105af57600080fd5b505af11580156105c3573d6000803e3d6000fd5b50505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16633e424fd76040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b15801561064d57600080fd5b505af1158015610661573d6000803e3d6000fd5b50505050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff168156fea165627a7a72305820bf1d0c1168ae19f50efccc57f8a1bb07cc9c119d3c10cae60fc9e9ceb67d66950029a165627a7a72305820837ce4810a436d771157e30cd2990c11561592e3f4bdd4b163dcd797ff9f42bd0029"
        });
        let blockReceiptawait = await getBlock.getBlockState(blockHash);
        AContractAddress = blockReceiptawait.block_state.stable_content.contract_address;
        // assert.equal('912530', blockReceiptawait.block_state.stable_content.gas_used)
        assert.equal('1621913', blockReceiptawait.block_state.stable_content.gas_used)
    }).timeout(1000000);

    it("创建合约C", async () => {
        let blockHash = await Block.sendBlock({
            from: account2,
            to:AContractAddress,
            data:"3284f168"
        });
        let blockReceiptawait = await getBlock.getBlockState(blockHash);
        // assert.equal('209805', blockReceiptawait.block_state.stable_content.gas_used)
        assert.equal('252595', blockReceiptawait.block_state.stable_content.gas_used)
    }).timeout(1000000);

    it("创建合约B", async () => {
        let blockHash = await Block.sendBlock({
            from: account2,
            to:AContractAddress,
            data:"a6a2d286"
        });
        let blockReceiptawait = await getBlock.getBlockState(blockHash);
        // assert.equal('330324', blockReceiptawait.block_state.stable_content.gas_used)
        assert.equal('474316', blockReceiptawait.block_state.stable_content.gas_used)
    }).timeout(1000000);

    it("调用A的setB1", async () => {
        let blockHash = await Block.sendBlock({
            from: account2,
            to:AContractAddress,
            data:"05942236"
        });
        let blockReceiptawait = await getBlock.getBlockState(blockHash);
        // assert.equal('46281', blockReceiptawait.block_state.stable_content.gas_used)
        assert.equal('46253', blockReceiptawait.block_state.stable_content.gas_used)
    }).timeout(1000000);

    it("调用A的setB2", async () => {
        let blockHash = await Block.sendBlock({
            from: account2,
            to:AContractAddress,
            data:"d78ca67f"
        });
        let blockReceiptawait = await getBlock.getBlockState(blockHash);
        // assert.equal('71838', blockReceiptawait.block_state.stable_content.gas_used)
        assert.equal('71480', blockReceiptawait.block_state.stable_content.gas_used)
    }).timeout(1000000);

    it("调用A的setB3", async () => {
        let blockHash = await Block.sendBlock({
            from: account2,
            to:AContractAddress,
            data:"4be77545"
        });
        let blockReceiptawait = await getBlock.getBlockState(blockHash);
        // assert.equal('94093', blockReceiptawait.block_state.stable_content.gas_used)
        assert.equal('93886', blockReceiptawait.block_state.stable_content.gas_used)
    }).timeout(1000000);

})